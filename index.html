<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <!-- T·ªëi ∆∞u h√≥a Viewport: Ch·∫∑n zoom tr√¨nh duy·ªát, h·ªó tr·ª£ v√πng an to√†n tr√™n iPhone -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>M√¥ ph·ªèng 3D VSEPR</title>
  <link rel="stylesheet" href="style.css">
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/addons/p5.dom.min.js"></script>
</head>
<body>
  <!-- L·ªõp ph·ªß m·ªù khi m·ªü menu tr√™n mobile -->
  <div id="mobile-overlay"></div>

  <!-- N√∫t m·ªü Menu Tr√°i (C√†i ƒë·∫∑t) - Ch·ªâ hi·ªán tr√™n Mobile -->
  <button id="mobile-menu-btn" class="mobile-btn icon-btn" aria-label="Menu">
    <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </button>

  <!-- N√∫t m·ªü Menu Ph·∫£i (Danh s√°ch) - Ch·ªâ hi·ªán tr√™n Mobile -->
  <button id="mobile-list-btn" class="mobile-btn icon-btn" aria-label="List">
    <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </button>

  <!-- Khu v·ª±c v·∫Ω 3D -->
  <div id="canvas-container"></div>

  <!-- Sidebar Tr√°i: ƒêi·ªÅu khi·ªÉn & C√†i ƒë·∫∑t -->
  <div id="sidebar">
    <button class="mobile-close-btn">&times;</button>
    
    <div class="sidebar-header">
      <div class="vsepr-title" data-translate="vseprTitle">M√î PH·ªéNG VSEPR</div>
      <div class="abc-title">H√ìA H·ªåC ABC</div>
    </div>
    <div class="sidebar-controls">
      <div class="sidebar-select-group">
        <select id="langSelect" class="sidebar-select">
          <option value="vi">Ti·∫øng Vi·ªát</option>
          <option value="en">English</option>
        </select>
      </div>
      <div class="sidebar-select-group">
        <select id="moleculeSelect" class="sidebar-select" aria-label="Ph√¢n t·ª≠ th·∫≠t">
          <option value="" disabled selected data-translate="realMolecule">Ph√¢n t·ª≠ th·∫≠t</option>
          <option value="h2o">H‚ÇÇO</option>
          <option value="co2">CO‚ÇÇ</option>
          <option value="so2">SO‚ÇÇ</option>
          <option value="becl2">BeCl‚ÇÇ</option>
          <option value="xef2">XeF‚ÇÇ</option>
          <option value="bf3">BF‚ÇÉ</option>
          <option value="nh3">NH‚ÇÉ</option>
          <option value="pcl3">PCl‚ÇÉ</option>
          <option value="clf3">ClF‚ÇÉ</option>
          <option value="brf3">BrF‚ÇÉ</option>
          <option value="ch4">CH‚ÇÑ</option>
          <option value="sf4">SF‚ÇÑ</option>
          <option value="pcl5">PCl‚ÇÖ</option>
          <option value="brf5">BrF‚ÇÖ</option>
          <option value="sf6">SF‚ÇÜ</option>
          <option value="if7">IF‚Çá</option>
          <option value="nh4+">NH‚ÇÑ‚Å∫</option>
        </select>
      </div>
    </div>

    <div class="sidebar-buttons">
      <button id="angleBtn" class="angle-btn">B·∫≠t g√≥c</button>
      <button id="labelBtn" class="label-btn">B·∫≠t nh√£n</button>
      <button id="autoRotateBtn" class="rotate-btn">B·∫≠t xoay</button>
      <button id="saveImgBtn" class="save-btn" data-translate="saveImage">L∆∞u ·∫£nh</button>
      <button id="resetBtn" data-translate="reset">Reset</button>
      <!-- N√∫t H∆∞·ªõng d·∫´n -->
      <button id="helpBtn" class="help-btn" data-translate="help">H∆∞·ªõng d·∫´n</button>
    </div>
  </div>
  
  <!-- Sidebar Ph·∫£i: Th√™m ƒë·ªëi t∆∞·ª£ng & Danh s√°ch -->
  <div id="sidebar-right">
    <button class="mobile-close-btn">&times;</button>

    <div class="sidebar-header">
      <div class="axne-title" id="axneFormula">AX‚ÇÄE‚ÇÄ</div>
    </div>

    <div class="sidebar-buttons">
      <button id="addSphereBtn" data-translate="addLonePair">C·∫∑p electron</button>
      <button id="addSingleBondBtn" data-translate="singleBond">Li√™n k·∫øt ƒë∆°n</button>
      <button id="addDoubleBondBtn" data-translate="doubleBond">Li√™n k·∫øt ƒë√¥i</button>
      <button id="addTripleBondBtn" data-translate="tripleBond">Li√™n k·∫øt ba</button>
    </div>

    <div id="sidebar-right-list-label" data-translate="objectListLabelRight">Danh s√°ch ƒë·ªëi t∆∞·ª£ng:</div>
    <div id="objectListRight"></div>
  </div>

  <!-- POPUP H∆Ø·ªöNG D·∫™N -->
  <div id="help-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 data-translate="helpTitle">H∆∞·ªõng D·∫´n & L∆∞u √ù</h2>
        <span class="close-modal">&times;</span>
      </div>
      <div class="modal-body">
        <h3 data-translate="helpUsageTitle">1. C√°ch s·ª≠ d·ª•ng</h3>
        <ul id="helpUsageList">
          <li data-translate="helpUsage1">
            <strong>Xoay:</strong><br>
            üñ•Ô∏è PC: Nh·∫•n gi·ªØ chu·ªôt tr√°i v√† k√©o.<br>
            üì± Mobile: Vu·ªët 1 ng√≥n tay tr√™n m√†n h√¨nh.
          </li>
          <li data-translate="helpUsage2">
            <strong>Zoom:</strong><br>
            üñ•Ô∏è PC: LƒÉn chu·ªôt gi·ªØa.<br>
            üì± Mobile: D√πng 2 ng√≥n tay (k√©o ra/thu v√†o).
          </li>
          <li data-translate="helpUsage3">
            <strong>Di chuy·ªÉn nguy√™n t·ª≠:</strong><br>
            üñ•Ô∏è PC: Nh·∫•n gi·ªØ chu·ªôt tr√°i v√†o nguy√™n t·ª≠ v√† k√©o.<br>
            üì± Mobile: Ch·∫°m gi·ªØ v√†o nguy√™n t·ª≠ v√† k√©o.
          </li>
        </ul>
        <hr>
        <h3 data-translate="helpDiffTitle">2. S·ª± kh√°c bi·ªát v·ªÅ G√≥c li√™n k·∫øt</h3>
        <p data-translate="helpDiffDesc">L∆∞u √Ω s·ª± kh√°c bi·ªát gi·ªØa m√¥ h√¨nh l√Ω thuy·∫øt v√† th·ª±c t·∫ø:</p>
        <ul id="helpDiffList">
          <li data-translate="helpDiff1"><strong>M√¥ ph·ªèng VSEPR (Menu Ph·∫£i):</strong> D·ª±a tr√™n l√Ω thuy·∫øt l·ª±c ƒë·∫©y electron l√Ω t∆∞·ªüng.</li>
          <li data-translate="helpDiff2"><strong>Ph√¢n t·ª≠ th·∫≠t (Menu Tr√°i):</strong> D·ª±a tr√™n d·ªØ li·ªáu th·ª±c nghi·ªám (ƒë·ªô d√†i, g√≥c ch√≠nh x√°c).</li>
        </ul>
      </div>
    </div>
  </div>

  <script src="sketch.js"></script>
</body>
</html>